/*! dream - v0.0.0 - 2014-06-27
* Copyright (c) 2014 Darby Perez; Licensed  */
var Dream=Dream||{};Dream.document=document,Dream.window=window,function(){var a=Array.prototype.slice;Dream.util={extend:function(a,b){for(var c in b)"function"==typeof a&&b.hasOwnProperty(c)?a.prototype[c]=b[c]:b.hasOwnProperty(c)&&(a[c]=b[c]);return a},createCanvasElement:function(){return Dream.document.createElement("canvas")},createClass:function(){var b=a.call(arguments,0),c=function(){this.initialize.apply(this,arguments)};return c.prototype.initialize=function(){},c.prototype.constructor=c,Dream.util.extend(c,b[0]),c},addEvent:function(a,b,c){Dream.window.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c,!1)},getCoords:function(a,b){var c=a.top,d=a.left;return a instanceof Element&&a.nodeType&&(c=a.offsetTop,d=a.offsetLeft),{x:b.x-d,y:b.y-c}}}}(),function(){Dream.Canvas=Dream.util.createClass({_height:0,_width:0,_canvas:null,_canvasContext:null,initialize:function(a){this._setupCanvas(a)},_setupCanvas:function(){this._canvas=Dream.util.createCanvasElement(),this._canvasContext=this._canvas.getContext("2d")}})}(),function(){Dream.Layer=Dream.util.createClass({_dirty:!1,_canvas:null,name:"layer",initialize:function(){this._setupCanvasDOM()},_setupCanvasDOM:function(){this._canvas=Dream.util.createCanvasElement(),this._canvas.id=this.name,this._canvasContext=this._canvas.getContext("2d"),this._canvas.style.position="absolute"},_setOptions:function(a){Dream.util.extend(this,a)},setCanvasDimensions:function(a,b){this._canvas.width=a,this._canvas.height=b},setStyleDimensions:function(a,b){this._canvas.style.width=a+"px",this._canvas.style.height=b+"px"},getCanvasDOM:function(){return this._canvas},getCanvasContext:function(){return this._canvasContext}})}(),function(){Dream.Scape=Dream.util.createClass({_layers:[],_events:!0,_dom:null,type:"scape",initialize:function(a,b){this._setDOM(a),this.setDimensions(b),this._setOptions(b),this._initListeners()},setDimensions:function(a){a&&a.height&&a.width?(this.width=a.width,this.height=a.height,this._setDOMStyle(this.width,this.height)):(this.width=this._dom.scrollWidth,this.height=this._dom.scrollHeight)},_setDOMStyle:function(a,b){this._dom.style.width=a+"px",this._dom.style.height=b+"px",this._dom.style.position="relative"},_setOptions:function(a){Dream.util.extend(this,a)},_setDOM:function(a){this._dom=Dream.document.getElementById(a)},fitToScape:function(a){a.setCanvasDimensions(this.width,this.height),a.setStyleDimensions(this.width,this.height)},addLayer:function(a){this.fitToScape(a),this._dom.appendChild(a.getCanvasDOM()),this._layers.push(a)}})}(),function(){var a="_",b="mousedown",c="mouseup",d="mouseover",e="mouseout",f="mousemove",g=[b,c,d,e,f],h=g.length;Dream.util.extend(Dream.Scape,{_initListeners:function(){for(var b=0;h>b;b++)Dream.util.addEvent(this._dom,g[b],this[a+g[b]])},_mousedown:function(a){var b=Dream.util.getCoords(this,a);console.log("mousedown",b)},_mouseup:function(a){var b=Dream.util.getCoords(this,a);console.log("mouseup",b)},_mouseover:function(a){var b=Dream.util.getCoords(this,a);console.log("mouseover",b)},_mouseout:function(a){var b=Dream.util.getCoords(this,a);console.log("mouseleave",b)},_mousemove:function(){}})}();